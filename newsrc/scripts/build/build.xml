<?xml version="1.0" ?>
<!-- $Id$ -->
<project name="AEC" basedir="." default="build">

	<target name="config" description="Load configuration file">
		<property file="allpackages.properties"  override="false" />
	</target>

	<property name="file.package"  value="com_acctexp" override="true" />
	<property name="file.version"  value="0.12.6.2" override="true" />

	<target name="build" description="Build installable package" depends="config, svn_lastrevision">
		<mkdir dir="${dir.packages}" />
		<mkdir dir="${dir.tmp}" />

		<tar destfile="${dir.packages}/${file.package}_v${file.version}_rev${svn.lastrevision}${file.extension}" basedir="${dir.tmp}" compression="${file.compression}" />
		<delete dir="${dir.tmp}" includeemptydirs="true" />
	</target>

	<target name="export_from_wc" description="Export files from a local working copy" depends="config">
		<copy todir="${dir.tmp}">
			<fileset dir="${dir.local}">
				<include name="**" />
			</fileset>
		</copy>
	</target>
	<target name="svn_lastrevision" depends="config">
		<svnlastrevision workingcopy="${dir.local}" propertyname="svn.lastrevision" />
	</target>
</project>