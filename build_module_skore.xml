<?xml version="1.0" encoding="UTF-8"?>

<project default="build.all" basedir="./">

       <!--    ==================================================      -->
       <!--    initialize paths and properties                                         -->
       <!--    ==================================================      -->

       <!-- initialization -->
       <target name="initialize">

               <!-- display ANT Environment -->
               <echo message="==> ANT Environment"/>
               <echo message="ant.home         = ${ant.home}"/>
               <echo message="ant.java.version = ${ant.java.version}"/>
               <echo message="ant.version      = ${ant.version}"/>

               <property name="project.name" value="Account Expiration Module"/>
               <property name="deployment.userdir" value="/home/skore/tmp/AEC_ModuleANT"/>
               <property name="distribution.dir" value="/home/skore/tmp"/>
               <property name="source.dir" value="./src_module/"/>

       </target>

       <!-- build all -->
       <target name="build.all" depends="initialize">
			<antcall target="deploy.userdir" inheritall="true"/>
			<antcall target="dist.generate" inheritall="true"/>
       </target>
       <target name="deploy.userdir">
               <copy todir="${deployment.userdir}" overwrite="yes">
                   <fileset dir="${source.dir}">
                   		<include name="mod*"/>
                   </fileset>
               </copy>
		        <copy todir="${deployment.userdir}/mod_acctexp_language" overwrite="yes">
		            <fileset dir="${source.dir}/mod_acctexp_language">
		        			<include name="*"/>
		            </fileset>
		        </copy>
       </target>
       <target name="dist.generate">
       <zip destfile="${distribution.dir}/mod_acctexp_0_12_4_2.zip" update="true">
       <fileset dir="${source.dir}"/>
    	<exclude name="build.xml"/>
    	<exclude name=".project"/>
  		</zip>
  		</target>
</project>